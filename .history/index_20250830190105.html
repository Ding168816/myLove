<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æˆ‘ä»¬çš„ä¸‰å‘¨å¹´</title>
  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- è‡ªå®šä¹‰æ ·å¼ -->
  <link rel="stylesheet" href="styles.css">
</head>
<body class="font-sans bg-love-light text-gray-800">
  <!-- çˆ±å¿ƒé›¨å®¹å™¨ -->
  <div id="hearts-container" class="fixed top-0 left-0 w-full h-full pointer-events-none z-50"></div>

  <!-- å¯†ç ä¿æŠ¤é¡µé¢ - ç›´æ¥æ˜¾ç¤ºæ—¥æœŸè¡¨å• -->
  <section id="password-page" class="fixed inset-0 flex items-center justify-center bg-gradient-to-br from-love-primary/90 to-love-secondary/90 z-100 overflow-hidden">
    <!-- èƒŒæ™¯çˆ±å¿ƒç²’å­ -->
    <div class="absolute inset-0" id="particle-container"></div>
    
    <!-- æ—¥æœŸè¾“å…¥è¡¨å• -->
    <div class="cherry-blossom-border-container">
      <div id="date-form-container"
    class="bg-white/95 p-8 rounded-2xl shadow-xl max-w-md w-full mx-auto z-20 flex flex-col items-center cherry-blossom-border cherry-blossom-border-left cherry-blossom-border-right">
        style="min-width: 360px; width: 90%; max-width: 450px; transition: all 0.5s ease; margin: 0 auto;">
        <div class="text-center mb-6">
          <h2 class="text-3xl md:text-4xl font-romantic text-love-primary mb-2">æˆ‘ä»¬çš„çºªå¿µæ—¥</h2>
        </div>
        <form id="password-form" class="space-y-4">
          <div>
            <input type="date" id="anniversary-date" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-love-primary focus:border-love-primary transition-all">
          </div>
          <button type="submit" class="w-full bg-love-primary hover:bg-love-primary/90 text-pink-300 font-medium py-2 px-4 rounded-lg transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-love-primary focus:ring-opacity-50">
            å¼€å¯å›å¿†ä¹‹æ—…
          </button>
        </form>
        <p id="error-message" class="text-red-500 text-sm mt-3 text-center hidden">æ—¥æœŸä¸æ­£ç¡®ï¼Œè¯·é‡è¯•</p>
      </div>
    </div>
    
    <!-- çˆ±å¿ƒå¿«æ·å…¥å£ -->
    <div class="quick-access absolute bottom-10 left-0 right-0 text-center">
      <div class="flex justify-center gap-8">
        <div class="love-shortcut" data-target="gallery" title="æŸ¥çœ‹æˆ‘ä»¬çš„ç…§ç‰‡é›†">
          <div class="w-16 h-16 bg-white/90 hover:bg-white rounded-full flex items-center justify-center cursor-pointer shadow-lg transform transition-all duration-300 hover:scale-110 hover:shadow-xl">
            <i class="fa fa-picture-o text-2xl text-love-primary"></i>
          </div>
          <p class="mt-2 text-red">ç¾å¥½å›å¿†</p>
        </div>
        <div class="love-shortcut" data-target="love-letter" title="é˜…è¯»æˆ‘çš„æƒ…ä¹¦">
          <div class="w-16 h-16 bg-white/90 hover:bg-white rounded-full flex items-center justify-center cursor-pointer shadow-lg transform transition-all duration-300 hover:scale-110 hover:shadow-xl">
            <i class="fa fa-heart text-2xl text-love-primary"></i>
          </div>
          <p class="mt-2 text-red">çˆ±çš„æƒ…ä¹¦</p>
        </div>
        <div class="love-shortcut" data-target="countdown" title="æŸ¥çœ‹æˆ‘ä»¬åœ¨ä¸€èµ·çš„æ—¶å…‰">
          <div class="w-16 h-16 bg-white/90 hover:bg-white rounded-full flex items-center justify-center cursor-pointer shadow-lg transform transition-all duration-300 hover:scale-110 hover:shadow-xl">
            <i class="fa fa-clock-o text-2xl text-love-primary"></i>
          </div>
          <p class="mt-2 text-red">æ—¶å…‰è®°å¿†</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ä¸»å†…å®¹é¡µé¢ -->
  <main id="main-content" class="hidden">
    <!-- å¤´éƒ¨åŒºåŸŸ -->
    <header class="relative min-h-screen flex flex-col items-center justify-center overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-br from-love-primary/20 to-love-secondary/20 z-0"></div>
      
      <!-- èƒŒæ™¯çˆ±å¿ƒè£…é¥° -->
      <div class="absolute inset-0 opacity-10 z-0">
        <div class="absolute top-1/4 left-1/4 text-9xl text-love-primary">â¤</div>
        <div class="absolute top-2/3 right-1/4 text-8xl text-love-secondary">â¤</div>
        <div class="absolute bottom-1/4 left-1/3 text-7xl text-love-accent">â¤</div>
      </div>
      
      <div class="container mx-auto px-4 z-10 text-center">
        <h1 class="text-5xl md:text-7xl font-romantic text-love-primary mb-6 text-shadow-lg">
          ä¸‰å‘¨å¹´å¿«ä¹ <span class="heartbeat-animation inline-block">â¤</span>
        </h1>
        <p class="text-xl md:text-2xl text-gray-700 mb-8 max-w-2xl mx-auto">
          ä¸ä½ ç›¸é‡çš„æ¯ä¸€å¤©éƒ½æ˜¯å¥‡è¿¹ï¼Œæ„Ÿè°¢ä½ é™ªä¼´æˆ‘èµ°è¿‡è¿™ä¸‰å¹´æ—¶å…‰
        </p>
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <button id="play-music" class="bg-love-primary hover:bg-love-primary/90 text-red font-medium py-2 px-6 rounded-full transition-all transform hover:scale-105 flex items-center gap-2">
            <i class="fa fa-music"></i>
            <span>æ’­æ”¾éŸ³ä¹</span>
          </button>
          <a href="#gallery" class="bg-white hover:bg-gray-50 text-love-primary border border-love-primary font-medium py-2 px-6 rounded-full transition-all transform hover:scale-105 flex items-center gap-2">
            <i class="fa fa-image"></i>
            <span>æµè§ˆå›å¿†</span>
          </a>
        </div>
      </div>
      
      <div class="absolute bottom-10 left-0 right-0 flex justify-center animate-bounce">
        <a href="#timeline" class="text-love-primary text-3xl">
          <i class="fa fa-angle-down"></i>
        </a>
      </div>
    </header>

    <!-- æ—¶é—´çº¿åŒºåŸŸ -->
    <section id="timeline" class="py-20 bg-white">
      <div class="container mx-auto px-4">
        <h2 class="text-4xl font-romantic text-center text-love-primary mb-16">æˆ‘ä»¬çš„çˆ±æƒ…æ—¶é—´çº¿</h2>
        
        <div class="relative">
          <!-- ä¸­é—´çº¿ -->
          <div class="absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-love-primary/30"></div>
          
          <!-- æ—¶é—´ç‚¹ -->
          <div class="space-y-16">
            <!-- æ—¶é—´ç‚¹1 -->
            <div class="relative flex flex-col md:flex-row items-center">
              <div class="md:w-1/2 md:pr-12 md:text-right mb-6 md:mb-0">
                <h3 class="text-2xl font-romantic text-love-primary mb-2">åˆæ¬¡ç›¸é‡</h3>
                <p class="text-gray-600">é‚£ä¸€å¤©ï¼Œæˆ‘çš„ä¸–ç•Œå› ä½ è€Œå˜å¾—ä¸åŒã€‚ä½ çš„ç¬‘å®¹å¦‚åŒé˜³å…‰èˆ¬æ¸©æš–ï¼Œè®©æˆ‘æ— æ³•å¿˜æ€€ã€‚</p>
              </div>
              <div class="absolute left-1/2 transform -translate-x-1/2 w-8 h-8 rounded-full bg-love-primary border-4 border-white z-10"></div>
              <div class="md:w-1/2 md:pl-12"></div>
            </div>
            
            <!-- æ—¶é—´ç‚¹2 -->
            <div class="relative flex flex-col md:flex-row items-center">
              <div class="md:w-1/2 md:pr-12"></div>
              <div class="absolute left-1/2 transform -translate-x-1/2 w-8 h-8 rounded-full bg-love-primary border-4 border-white z-10"></div>
              <div class="md:w-1/2 md:pl-12 mt-6 md:mt-0">
                <h3 class="text-2xl font-romantic text-love-primary mb-2">ç¬¬ä¸€æ¬¡çº¦ä¼š</h3>
                <p class="text-gray-600">æˆ‘ä»¬ä¸€èµ·çœ‹äº†ä¸€åœºç”µå½±ï¼Œåˆ†äº«äº†ä¸€æ¡¶çˆ†ç±³èŠ±ã€‚é‚£æ˜¯æˆ‘åº¦è¿‡çš„æœ€ç¾å¥½çš„å¤œæ™šä¹‹ä¸€ã€‚</p>
              </div>
            </div>
            
            <!-- æ—¶é—´ç‚¹3 -->
            <div class="relative flex flex-col md:flex-row items-center">
              <div class="md:w-1/2 md:pr-12 md:text-right mb-6 md:mb-0">
                <h3 class="text-2xl font-romantic text-love-primary mb-2">ç¡®å®šå…³ç³»</h3>
                <p class="text-gray-600">å½“æˆ‘ä»¬å››ç›®ç›¸å¯¹æ—¶ï¼Œæˆ‘çŸ¥é“ä½ å°±æ˜¯æˆ‘æƒ³è¦å…±åº¦ä¸€ç”Ÿçš„äººã€‚é‚£ä¸€åˆ»ï¼Œæˆ‘æ„Ÿåˆ°æ— æ¯”å¹¸ç¦ã€‚</p>
              </div>
              <div class="absolute left-1/2 transform -translate-x-1/2 w-8 h-8 rounded-full bg-love-primary border-4 border-white z-10"></div>
              <div class="md:w-1/2 md:pl-12"></div>
            </div>
            
            <!-- æ—¶é—´ç‚¹4 -->
            <div class="relative flex flex-col md:flex-row items-center">
              <div class="md:w-1/2 md:pr-12"></div>
              <div class="absolute left-1/2 transform -translate-x-1/2 w-8 h-8 rounded-full bg-love-primary border-4 border-white z-10"></div>
              <div class="md:w-1/2 md:pl-12 mt-6 md:mt-0">
                <h3 class="text-2xl font-romantic text-love-primary mb-2">ä¸‰å‘¨å¹´çºªå¿µ</h3>
                <p class="text-gray-600">æ—¶é—´é£é€ï¼Œä½†æˆ‘çš„çˆ±ä¸æ—¥ä¿±å¢ã€‚æ„Ÿè°¢ä½ é™ªä¼´æˆ‘èµ°è¿‡è¿™ä¸‰å¹´ï¼ŒæœŸå¾…æœªæ¥çš„æ¯ä¸€ä¸ªä¸‰å¹´ã€‚</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ç›¸å†ŒåŒºåŸŸ -->
    <section id="gallery" class="py-20 bg-love-light">
      <div class="container mx-auto px-4">
        <h2 class="text-4xl font-romantic text-center text-love-primary mb-16">æˆ‘ä»¬çš„ç¾å¥½å›å¿†</h2>
        
      <!-- ç›¸å†Œåˆ‡æ¢å™¨ -->
      <div class="flex justify-center mb-10 space-x-2">
        <button
          class="gallery-tab active px-4 py-2 rounded-full bg-pink-100 text-love-primary hover:bg-pink-200 shadow-md hover:shadow-lg hover:scale-105 transition-all"
          data-tab="tab1">ç”œèœœç¬é—´</button>
        <button
          class="gallery-tab px-4 py-2 rounded-full bg-pink-100 text-love-primary hover:bg-pink-200 shadow-md hover:shadow-lg hover:scale-105 transition-all"
          data-tab="tab2">æ—…è¡Œè¶³è¿¹</button>
        <button
          class="gallery-tab px-4 py-2 rounded-full bg-pink-100 text-love-primary hover:bg-pink-200 shadow-md hover:shadow-lg hover:scale-105 transition-all"
          data-tab="tab3">æ—¥å¸¸ç‚¹æ»´</button>
      </div>

        
        <!-- ç›¸å†Œå†…å®¹ -->
        <div class="gallery-content">
          <!-- ç”œèœœç¬é—´ -->
          <div id="tab1" class="gallery-tab-content active">
            <div class="gallery-scroll-container overflow-hidden">
              <div class="gallery-scroll-track flex gap-6 transition-transform duration-10000 ease-in-out" data-speed="15">
                <!-- ç…§ç‰‡1 -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">ç¬¬ä¸€æ¬¡ç‰µæ‰‹ï¼Œå¿ƒè·³åŠ é€Ÿçš„æ„Ÿè§‰</p>
                  </div>
                  <img src="img/photo1.jpg" alt="ç”œèœœç¬é—´" class="w-full h-64 object-cover">
                </div>
                <!-- ç…§ç‰‡2 -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå»ï¼Œæ°¸è¿œéš¾å¿˜</p>
                  </div>
                  <img src="img/photo2.jpg" alt="ç”œèœœç¬é—´" class="w-full h-64 object-cover">
                </div>
                <!-- ç…§ç‰‡3 -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">åœ¨æ˜Ÿç©ºä¸‹è®¸ä¸‹çš„æ‰¿è¯º</p>
                  </div>
                  <img src="img/photo3.jpg" alt="ç”œèœœç¬é—´" class="w-full h-64 object-cover">
                </div>
                <!-- å¾ªç¯å¤åˆ¶ç…§ç‰‡ä»¥å®ç°æ— ç¼æ»šåŠ¨ -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">ç¬¬ä¸€æ¬¡ç‰µæ‰‹ï¼Œå¿ƒè·³åŠ é€Ÿçš„æ„Ÿè§‰</p>
                  </div>
                  <img src="img/photo1.jpg" alt="ç”œèœœç¬é—´" class="w-full h-64 object-cover">
                </div>
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå»ï¼Œæ°¸è¿œéš¾å¿˜</p>
                  </div>
                  <img src="img/photo2.jpg" alt="ç”œèœœç¬é—´" class="w-full h-64 object-cover">
                </div>
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">åœ¨æ˜Ÿç©ºä¸‹è®¸ä¸‹çš„æ‰¿è¯º</p>
                  </div>
                  <img src="img/photo3.jpg" alt="ç”œèœœç¬é—´" class="w-full h-64 object-cover">
                </div>
              </div>
            </div>
          </div>
          
          <!-- æ—…è¡Œè¶³è¿¹ -->
          <div id="tab2" class="gallery-tab-content hidden">
            <div class="gallery-scroll-container overflow-hidden">
              <div class="gallery-scroll-track flex gap-6 transition-transform duration-10000 ease-in-out" data-speed="20">
                <!-- ç…§ç‰‡1 -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">æµ·è¾¹çš„æµªæ¼«ä¹‹æ—…</p>
                  </div>
                  <img src="img/photo4.jpg" alt="æ—…è¡Œè¶³è¿¹" class="w-full h-64 object-cover">
                </div>
                <!-- ç…§ç‰‡2 -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">å±±é—´çš„ç¾å¥½å›å¿†</p>
                  </div>
                  <img src="img/photo5.jpg" alt="æ—…è¡Œè¶³è¿¹" class="w-full h-64 object-cover">
                </div>
                <!-- ç…§ç‰‡3 -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">åŸå¸‚çš„ç¹åä¸æˆ‘ä»¬çš„å®é™</p>
                  </div>
                  <img src="img/photo6.jpg" alt="æ—…è¡Œè¶³è¿¹" class="w-full h-64 object-cover">
                </div>
                <!-- å¾ªç¯å¤åˆ¶ç…§ç‰‡ä»¥å®ç°æ— ç¼æ»šåŠ¨ -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">æµ·è¾¹çš„æµªæ¼«ä¹‹æ—…</p>
                  </div>
                  <img src="img/photo4.jpg" alt="æ—…è¡Œè¶³è¿¹" class="w-full h-64 object-cover">
                </div>
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">å±±é—´çš„ç¾å¥½å›å¿†</p>
                  </div>
                  <img src="img/photo5.jpg" alt="æ—…è¡Œè¶³è¿¹" class="w-full h-64 object-cover">
                </div>
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">åŸå¸‚çš„ç¹åä¸æˆ‘ä»¬çš„å®é™</p>
                  </div>
                  <img src="img/photo6.jpg" alt="æ—…è¡Œè¶³è¿¹" class="w-full h-64 object-cover">
                </div>
              </div>
            </div>
          </div>
          
          <!-- æ—¥å¸¸ç‚¹æ»´ -->
          <div id="tab3" class="gallery-tab-content hidden">
            <div class="gallery-scroll-container overflow-hidden">
              <div class="gallery-scroll-track flex gap-6 transition-transform duration-10000 ease-in-out" data-speed="18">
                <!-- ç…§ç‰‡1 -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">ä¸€èµ·åšçš„ç¬¬ä¸€é¡¿æ—©é¤</p>
                  </div>
                  <img src="img/photo7.jpg" alt="æ—¥å¸¸ç‚¹æ»´" class="w-full h-64 object-cover">
                </div>
                <!-- ç…§ç‰‡2 -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">ä¸€èµ·çœ‹çš„ç¬¬ä¸€åœºé›ª</p>
                  </div>
                  <img src="img/photo8.jpg" alt="æ—¥å¸¸ç‚¹æ»´" class="w-full h-64 object-cover">
                </div>
                <!-- ç…§ç‰‡3 -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">ä¸€èµ·å…»çš„å°å® ç‰©</p>
                  </div>
                  <img src="img/photo9.jpg" alt="æ—¥å¸¸ç‚¹æ»´" class="w-full h-64 object-cover">
                </div>
                <!-- å¾ªç¯å¤åˆ¶ç…§ç‰‡ä»¥å®ç°æ— ç¼æ»šåŠ¨ -->
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">ä¸€èµ·åšçš„ç¬¬ä¸€é¡¿æ—©é¤</p>
                  </div>
                  <img src="img/photo7.jpg" alt="æ—¥å¸¸ç‚¹æ»´" class="w-full h-64 object-cover">
                </div>
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">ä¸€èµ·çœ‹çš„ç¬¬ä¸€åœºé›ª</p>
                  </div>
                  <img src="img/photo8.jpg" alt="æ—¥å¸¸ç‚¹æ»´" class="w-full h-64 object-cover">
                </div>
                <div class="photo-item relative flex-shrink-0 w-64 md:w-80 rounded-xl overflow-hidden shadow-lg transform transition-all duration-300 hover:shadow-xl cursor-pointer">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                    <p class="text-red text-shadow">ä¸€èµ·å…»çš„å°å® ç‰©</p>
                  </div>
                  <img src="img/photo9.jpg" alt="æ—¥å¸¸ç‚¹æ»´" class="w-full h-64 object-cover">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

<!-- æƒ…ä¹¦åŒºåŸŸ - ä¿¡å°æ ·å¼ -->
<section id="love-letter" class="py-20 bg-white">
  <div class="container mx-auto px-4">
    <div class="max-w-3xl mx-auto">
      <h2 class="text-4xl font-romantic text-center text-love-primary mb-8">ç»™æˆ‘çš„çˆ±äºº</h2>

      <!-- ä¿¡å°æ ·å¼å®¹å™¨ -->
      <div class="relative" style="width: 600px; height: 450px; margin: 0 auto;">
      <!-- ä¿¡å°èƒŒé¢ -->
      <div id="envelope-back"
        class="absolute inset-0 bg-love-primary rounded-t-2xl  flex items-center justify-center cursor-pointer transition-all duration-500 transform hover:scale-105">
        <div style="font-size: 20vw;">ğŸ’Œ</div> <!-- è¿™é‡Œçš„ font-size è®¾ç½®ä¸º 20vw -->
      </div>

      <!-- ä¿¡å°æ­£é¢ -->
      <div id="envelope-front"
        class="absolute inset-0 bg-white rounded-xl  p-8 hidden transition-all duration-500"
          style="background-image: url('data:image/svg+xml;utf8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22 viewBox=%220 0 100 100%22%3E%3Cpath d=%22M0 0 L100 100 M100 0 L0 100%22 stroke=%22rgba(255,105,180,0.1)%22 stroke-width=%221%22/%3E%3C/svg%3E'); background-size: 20px 20px;">
          <div class="text-gray-700 space-y-3 font-serif leading-relaxed text-sm md:text-base h-full overflow-y-auto">
            <p>äº²çˆ±çš„ï¼Œ</p>
            <p>å½“æˆ‘å†™ä¸‹è¿™äº›æ–‡å­—æ—¶ï¼Œæˆ‘çš„å¿ƒä¸­å……æ»¡äº†å¯¹ä½ çš„çˆ±å’Œæ„Ÿæ¿€ã€‚ä¸‰å¹´å‰çš„ä»Šå¤©ï¼Œæˆ‘ä»¬ç›¸é‡äº†ï¼Œä»é‚£ä¸€åˆ»èµ·ï¼Œæˆ‘çš„ç”Ÿå‘½å˜å¾—æ›´åŠ ç²¾å½©å’Œæœ‰æ„ä¹‰ã€‚</p>
            <p>æ„Ÿè°¢ä½ ä¸€ç›´ä»¥æ¥çš„é™ªä¼´ã€ç†è§£å’Œæ”¯æŒã€‚åœ¨è¿™ä¸‰å¹´é‡Œï¼Œæˆ‘ä»¬ä¸€èµ·ç»å†äº†æ¬¢ç¬‘å’Œæ³ªæ°´ï¼Œä¸€èµ·æˆé•¿å’Œè¿›æ­¥ã€‚æ¯ä¸€ä¸ªä¸ä½ ç›¸å¤„çš„ç¬é—´ï¼Œéƒ½æˆä¸ºäº†æˆ‘ç”Ÿå‘½ä¸­æœ€çè´µçš„å›å¿†ã€‚</p>
            <p>ä½ çš„ç¬‘å®¹æ˜¯æˆ‘æ¯å¤©é†’æ¥çš„åŠ¨åŠ›ï¼Œä½ çš„æ‹¥æŠ±æ˜¯æˆ‘æœ€æ¸©æš–çš„æ¸¯æ¹¾ã€‚æ— è®ºæœªæ¥ä¼šé‡åˆ°ä»€ä¹ˆå›°éš¾å’ŒæŒ‘æˆ˜ï¼Œæˆ‘éƒ½ç›¸ä¿¡æˆ‘ä»¬ä¼šä¸€èµ·é¢å¯¹ï¼Œä¸€èµ·å…‹æœã€‚</p>
            <p>åœ¨è¿™ä¸ªç‰¹åˆ«çš„æ—¥å­é‡Œï¼Œæˆ‘æƒ³å¯¹ä½ è¯´ï¼šæˆ‘çˆ±ä½ ï¼Œä¸ä»…æ˜¯ä»Šå¤©ï¼Œè€Œæ˜¯æœªæ¥çš„æ¯ä¸€å¤©ã€‚æˆ‘æœŸå¾…ä¸ä½ ä¸€èµ·èµ°è¿‡æ›´å¤šçš„ä¸‰å¹´ï¼Œåˆ›é€ æ›´å¤šç¾å¥½çš„å›å¿†ã€‚</p>
            <p class="text-right font-romantic text-love-primary">æ°¸è¿œçˆ±ä½ çš„äºº</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

    <!-- å€’è®¡æ—¶åŒºåŸŸ -->
    <section id="countdown" class="py-20 bg-gradient-to-br from-love-primary/20 to-love-secondary/20">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-4xl font-romantic text-center text-love-primary mb-10 animate-heartbeat">æˆ‘ä»¬å·²ç»åœ¨ä¸€èµ· <span class="heartbeat-animation inline-block">â¤</span></h2>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 max-w-4xl mx-auto">
          <div class="bg-white p-4 rounded-xl shadow-lg">
            <div id="days" class="text-4xl md:text-5xl font-bold text-love-primary">0</div>
            <div class="text-gray-600">å¤©</div>
          </div>
          <div class="bg-white p-4 rounded-xl shadow-lg">
            <div id="hours" class="text-4xl md:text-5xl font-bold text-love-primary">0</div>
            <div class="text-gray-600">æ—¶</div>
          </div>
          <div class="bg-white p-4 rounded-xl shadow-lg">
            <div id="minutes" class="text-4xl md:text-5xl font-bold text-love-primary">0</div>
            <div class="text-gray-600">åˆ†</div>
          </div>
          <div class="bg-white p-4 rounded-xl shadow-lg">
            <div id="seconds" class="text-4xl md:text-5xl font-bold text-love-primary">0</div>
            <div class="text-gray-600">ç§’</div>
          </div>
        </div>
      </div>
    </section>

    <!-- äº’åŠ¨åŠŸèƒ½å·²ç§»é™¤ -->

    <!-- é¡µè„šåŒºåŸŸ -->
    <footer class="py-10 bg-love-dark text-red text-center">
      <div class="container mx-auto px-4">
        <!-- <p class="mb-4">æˆ‘ä»¬çš„ä¸‰å‘¨å¹´ & ä¸ƒå¤•çºªå¿µ</p> -->
        <div class="flex justify-center space-x-4 mb-6">
          <button id="share-button" class="hover:text-love-primary transition-colors">
            <!-- <i class="fa fa-share-alt text-xl"></i> -->
          </button>
          <button id="download-button" class="hover:text-love-primary transition-colors">
            <!-- <i class="fa fa-download text-xl"></i> -->
          </button>
        </div>
        <p class="text-gray-400 text-sm">ç”¨â¤ï¸åˆ¶ä½œï¼Œæ°¸è¿œçˆ±ä½ </p>
      </div>
    </footer>
  </main>


  
  <!-- èƒŒæ™¯éŸ³ä¹å°†é€šè¿‡JavaScriptåŠ¨æ€åˆ›å»º -->
  
  <!-- å›¾ç‰‡æŸ¥çœ‹å™¨æ¨¡æ€æ¡† -->
  <div id="image-viewer" class="fixed inset-0 bg-black/90 z-50 hidden items-center justify-center">
    <button id="close-viewer" class="absolute top-4 right-4 text-red text-4xl hover:text-gray-300 transition-colors">Ã—</button>
    <img id="viewed-image" class="max-w-full max-h-full object-contain" src="" alt="æŸ¥çœ‹å›¾ç‰‡">
  </div>

  <!-- è„šæœ¬ -->
  <script>
    // é…ç½®é¡¹
    const CONFIG = {
      // é»˜è®¤çºªå¿µæ—¥ï¼Œç”¨äºæ¼”ç¤ºç›®çš„
      DEFAULT_ANNIVERSARY: '2022-05-20',
      //æ­£ç¡®çš„çºªå¿µæ—¥
      CORRECT_ANNIVERSARY: '2022-08-4',
      // çˆ±å¿ƒé›¨é…ç½®
      HEART_RAIN: {
        count: 50,
        colors: ['#FF6B6B', '#FF8E8E', '#FFD166', '#06D6A0', '#118AB2', '#073B4C']
      }
    };

    // DOM å…ƒç´ 
    const ELEMENTS = {
      passwordPage: document.getElementById('password-page'),
      mainContent: document.getElementById('main-content'),
      passwordForm: document.getElementById('password-form'),
      anniversaryDate: document.getElementById('anniversary-date'),
      errorMessage: document.getElementById('error-message'),
      bgMusic: null, // å°†åœ¨åˆå§‹åŒ–æ—¶åŠ¨æ€åˆ›å»º
      playMusic: document.getElementById('play-music'),
      heartsContainer: document.getElementById('hearts-container'),
      likeButton: document.getElementById('like-button'),
      likeCount: document.getElementById('like-count'),
      messageForm: document.getElementById('message-form'),
      messageInput: document.getElementById('message-input'),
      messagesContainer: document.getElementById('messages-container'),
      shareButton: document.getElementById('share-button'),
      galleryTabs: document.querySelectorAll('.gallery-tab'),
      galleryTabContents: document.querySelectorAll('.gallery-tab-content'),
      countdown: {
        days: document.getElementById('days'),
        hours: document.getElementById('hours'),
        minutes: document.getElementById('minutes'),
        seconds: document.getElementById('seconds')
      },
      // çˆ±çš„ä¿¡ä»¶ç›¸å…³å…ƒç´ 
      envelopeIcon: document.getElementById('envelope-icon'),
      loveLetterShortcut: document.querySelector('.love-shortcut[data-target="love-letter"]'),
      envelopeBack: document.getElementById('envelope-back'),
      envelopeFront: document.getElementById('envelope-front')
    };

    // çŠ¶æ€ç®¡ç†
    const STATE = {
      isMusicPlaying: false,
      likeCount: 0,
      anniversaryDate: null,
      messages: []
    };

    // å·¥å…·å‡½æ•°
    const UTILS = {
      // åˆå§‹åŒ–çˆ±å¿ƒé›¨
      initHeartRain: () => {
        for (let i = 0; i < CONFIG.HEART_RAIN.count; i++) {
          const heart = document.createElement('div');
          heart.className = 'heart absolute';
          
          // éšæœºå¤§å°
          const size = Math.random() * 30 + 10;
          
          // éšæœºé¢œè‰²
          const color = CONFIG.HEART_RAIN.colors[Math.floor(Math.random() * CONFIG.HEART_RAIN.colors.length)];
          
          // éšæœºåŠ¨ç”»æŒç»­æ—¶é—´
          const duration = Math.random() * 10 + 5;
          
          // éšæœºå»¶è¿Ÿ
          const delay = Math.random() * 10;
          
          // éšæœºæ°´å¹³ä½ç½®
          const left = Math.random() * 100;
          
          heart.style.cssText = `
            left: ${left}%;
            top: -20px;
            font-size: ${size}px;
            color: ${color};
            opacity: ${Math.random() * 0.7 + 0.3};
            animation: fall ${duration}s linear ${delay}s infinite;
            pointer-events: none;
          `;
          
          heart.innerHTML = 'â¤ï¸';
          ELEMENTS.heartsContainer.appendChild(heart);
        }
        
        // æ·»åŠ ä¸‹è½åŠ¨ç”»æ ·å¼
        const style = document.createElement('style');
        style.textContent = `
          @keyframes fall {
            from {
              transform: translateY(-20px) rotate(0deg) scale(0);
              opacity: ${Math.random() * 0.7 + 0.3};
            }
            to {
              transform: translateY(${window.innerHeight + 100}px) rotate(720deg) scale(1);
              opacity: 0;
            }
          }
        `;
        document.head.appendChild(style);
      },
      
      // éªŒè¯çºªå¿µæ—¥
      validateAnniversary: (date) => {
        console.log('Validating date:', date);
        // è®¾ç½®æ­£ç¡®çš„çºªå¿µæ—¥æ—¥æœŸï¼ˆå¯ä»¥æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼‰
        const correctDate = CONFIG.CORRECT_ANNIVERSARY;
        
        // éªŒè¯æ—¥æœŸæ ¼å¼
        const dateRegex = /^\d{4}-\d{2}-\d{2}$/;
        if (!dateRegex.test(date)) {
          console.log('Date format invalid');
          return false;
        }
        
        // éªŒè¯æ—¥æœŸçš„æœ‰æ•ˆæ€§
        const inputDate = new Date(date);
        const correctDateObj = new Date(correctDate);
        
        // æ£€æŸ¥æ˜¯å¦ä¸ºæœ‰æ•ˆæ—¥æœŸï¼Œå¹¶ä¸”å¹´æœˆæ—¥å®Œå…¨åŒ¹é…
        const result = !isNaN(inputDate.getTime()) && 
                      inputDate.getFullYear() === correctDateObj.getFullYear() &&
                      inputDate.getMonth() === correctDateObj.getMonth() &&
                      inputDate.getDate() === correctDateObj.getDate();
        
        console.log('Validation result:', result);
        return result;
      },
      
      // æ˜¾ç¤ºå¯çˆ±é£æ ¼çš„é”™è¯¯æç¤ºæ¡†
      showCuteError: () => {
        // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨é”™è¯¯æç¤ºæ¡†ï¼Œå¦‚æœæœ‰åˆ™ç§»é™¤
        const existingError = document.getElementById('cute-error');
        if (existingError) {
          existingError.remove();
        }
        
        // åˆ›å»ºé”™è¯¯æç¤ºæ¡†
        const errorBox = document.createElement('div');
        errorBox.id = 'cute-error';
        errorBox.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-love-primary text-red p-6 rounded-2xl shadow-xl z-50 flex items-center gap-4 animate-bounce';
        errorBox.style.fontFamily = '"Dancing Script", cursive';
        errorBox.innerHTML = `
          <div class="text-4xl">ğŸ˜˜</div>
          <div class="text-2xl font-bold">è‡­çŒªçŒªï¼Œè¿™éƒ½å¿˜è®°äº†</div>
        `;
        
        // æ·»åŠ å…³é—­æŒ‰é’®
        const closeBtn = document.createElement('button');
        closeBtn.className = 'absolute top-2 right-2 text-red/80 hover:text-red text-xl';
        closeBtn.innerHTML = '&times;';
        closeBtn.addEventListener('click', () => {
          errorBox.style.opacity = '0';
          setTimeout(() => {
            errorBox.remove();
          }, 300);
        });
        errorBox.appendChild(closeBtn);
        
        // æ·»åŠ åˆ°æ–‡æ¡£
        document.body.appendChild(errorBox);
        
        // æ·»åŠ ä¸€äº›å¯çˆ±çš„éšæœºç§»åŠ¨æ•ˆæœ
        let position = 0;
        const moveInterval = setInterval(() => {
          position = (position + 1) % 360;
          const radians = position * Math.PI / 180;
          const offsetX = Math.cos(radians) * 10;
          const offsetY = Math.sin(radians) * 10;
          errorBox.style.transform = `translate(-50%, -50%) translateX(${offsetX}px) translateY(${offsetY}px)`;
        }, 100);
        
        // 3ç§’åè‡ªåŠ¨å…³é—­
        setTimeout(() => {
          clearInterval(moveInterval);
          errorBox.style.opacity = '0';
          setTimeout(() => {
            errorBox.remove();
          }, 300);
        }, 3000);
      },
      
      // æ‹†å°æƒ…ä¹¦åŠ¨ç”»
      openEnvelope: () => {
        // éšè—ä¿¡å°èƒŒé¢
        if (ELEMENTS.envelopeBack) {
          ELEMENTS.envelopeBack.classList.add('scale-0', 'opacity-0');
          
          // æ˜¾ç¤ºä¿¡å°æ­£é¢ï¼Œå¹¶æ·»åŠ å‡ºç°åŠ¨ç”»
          setTimeout(() => {
            if (ELEMENTS.envelopeFront) {
              ELEMENTS.envelopeFront.classList.remove('hidden');
              ELEMENTS.envelopeFront.classList.add('scale-110', 'opacity-0');
              
              setTimeout(() => {
                ELEMENTS.envelopeFront.classList.remove('scale-110', 'opacity-0');
                ELEMENTS.envelopeFront.classList.add('scale-100', 'opacity-100');
                
                // æ’­æ”¾çˆ±å¿ƒé›¨åŠ¨ç”»
                UTILS.createEnvelopeHeartAnimation();
              }, 100);
            }
          }, 300);
        }
      },
      
      // åˆ›å»ºä¿¡å°çˆ±å¿ƒå¼¹å‡ºåŠ¨ç”»
      createEnvelopeHeartAnimation: () => {
        for (let i = 0; i < 20; i++) {
          const heart = document.createElement('div');
          heart.className = 'absolute';
          heart.innerHTML = 'â¤ï¸';
          
          const size = Math.random() * 20 + 10;
          const duration = Math.random() * 2 + 1;
          const left = 50 + (Math.random() - 0.5) * 100;
          const top = 50 + (Math.random() - 0.5) * 100;
          const rotation = Math.random() * 360;
          const opacity = Math.random() * 0.7 + 0.3;
          
          heart.style.cssText = `
            left: ${left}%;
            top: ${top}%;
            font-size: ${size}px;
            opacity: ${opacity};
            transform: translate(-50%, -50%) scale(0) rotate(${rotation}deg);
            animation: pop-heart ${duration}s ease-out forwards;
            pointer-events: none;
            z-index: 1000;
          `;
          
          document.body.appendChild(heart);
          
          // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
          setTimeout(() => {
            heart.remove();
          }, duration * 1000);
        }
        
        // æ·»åŠ å¼¹å‡ºåŠ¨ç”»æ ·å¼
        if (!document.getElementById('envelope-animation-style')) {
          const style = document.createElement('style');
          style.id = 'envelope-animation-style';
          style.textContent = `
            @keyframes pop-heart {
              0% {
                transform: translate(-50%, -50%) scale(0) rotate(0deg);
                opacity: 0;
              }
              50% {
                transform: translate(-50%, -50%) scale(1.2) rotate(180deg);
                opacity: 1;
              }
              100% {
                transform: translate(-50%, -50%) scale(0) rotate(360deg);
                opacity: 0;
              }
            }
          `;
          document.head.appendChild(style);
        }
      },
      
      // åˆå§‹åŒ–ç²’å­æ•ˆæœ
      initParticles: () => {
        const container = document.getElementById('particle-container');
        const particleCount = 50;
        
        for (let i = 0; i < particleCount; i++) {
          const particle = document.createElement('div');
          const size = Math.random() * 20 + 10;
          const color = CONFIG.HEART_RAIN.colors[Math.floor(Math.random() * CONFIG.HEART_RAIN.colors.length)];
          const duration = Math.random() * 8 + 4;
          const delay = Math.random() * 5;
          const left = Math.random() * 100;
          const top = Math.random() * 100;
          
          particle.className = 'absolute';
          particle.innerHTML = 'â¤ï¸';
          particle.style.cssText = `
            left: ${left}%;
            top: ${top}%;
            font-size: ${size}px;
            color: ${color};
            opacity: ${Math.random() * 0.7 + 0.3};
            transform: scale(0);
            animation: float ${duration}s ease-in-out ${delay}s infinite alternate;
            pointer-events: none;
          `;
          
          container.appendChild(particle);
        }
      },
      
      // å¯åŠ¨ç›¸å†Œæ»šåŠ¨åŠ¨ç”»
      startGalleryScroll: () => {
        const tracks = document.querySelectorAll('.gallery-scroll-track');
        tracks.forEach(track => {
          const speed = track.dataset.speed || 20;
          let position = 0;
          
          track.scrollInterval = setInterval(() => {
            position--;
            track.style.transform = `translateX(${position}px)`;
            
            // æ£€æµ‹æ˜¯å¦éœ€è¦é‡ç½®ä½ç½®ä»¥å®ç°æ— ç¼æ»šåŠ¨
            const firstHalfWidth = track.scrollWidth / 2;
            if (Math.abs(position) >= firstHalfWidth) {
              position = 0;
              track.style.transform = `translateX(${position}px)`;
            }
          }, speed);
        });
      },
      
      // åœæ­¢ç›¸å†Œæ»šåŠ¨åŠ¨ç”»
      stopGalleryScroll: () => {
        const tracks = document.querySelectorAll('.gallery-scroll-track');
        tracks.forEach(track => {
          if (track.scrollInterval) {
            clearInterval(track.scrollInterval);
            track.scrollInterval = null;
          }
        });
      },
      
      // è®¡ç®—åœ¨ä¸€èµ·çš„æ—¶é—´
      calculateTogetherTime: () => {
        if (!STATE.anniversaryDate) return;
        
        const now = new Date();
        const anniversary = new Date(STATE.anniversaryDate);
        const diffTime = Math.abs(now - anniversary);
        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
        const diffHours = Math.floor((diffTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const diffMinutes = Math.floor((diffTime % (1000 * 60 * 60)) / (1000 * 60));
        const diffSeconds = Math.floor((diffTime % (1000 * 60)) / 1000);
        
        ELEMENTS.countdown.days.textContent = diffDays;
        ELEMENTS.countdown.hours.textContent = diffHours;
        ELEMENTS.countdown.minutes.textContent = diffMinutes;
        ELEMENTS.countdown.seconds.textContent = diffSeconds;
      },
      
      // åˆ‡æ¢ç›¸å†Œæ ‡ç­¾
      switchGalleryTab: (tabId) => {
        ELEMENTS.galleryTabs.forEach(tab => {
          // å»æ‰å¼ºåˆ¶å­—ä½“ï¼Œä¿æŒå…¨å±€é»˜è®¤å­—ä½“
          // tab.style.fontFamily = '"Dancing Script", cursive';

          if (tab.dataset.tab === tabId) {
            // æ¿€æ´»çŠ¶æ€ï¼šæ·±ç²‰è‰²èƒŒæ™¯ + ç™½å­—
            tab.classList.add('active', 'bg-love-primary', 'text-black');
            tab.classList.remove(
              'bg-pink-100', 'text-love-primary',
              'bg-gray-200', 'text-gray-700'
            );
          } else {
            // éæ¿€æ´»çŠ¶æ€ï¼šæµ…ç²‰è‰²èƒŒæ™¯ + æ·±ç²‰è‰²å­—ä½“
            tab.classList.remove('active', 'bg-love-primary', 'text-white');
            tab.classList.add('bg-pink-100', 'text-love-primary');
          }
        });

        ELEMENTS.galleryTabContents.forEach(content => {
          if (content.id === tabId) {
            content.classList.add('active');
            content.classList.remove('hidden');
          } else {
            content.classList.remove('active');
            content.classList.add('hidden');
          }
        });
      },

      
      // æ·»åŠ ç•™è¨€
      addMessage: (message) => {
        if (!message.trim()) return;
        
        const messageElement = document.createElement('div');
        messageElement.className = 'bg-love-light p-4 rounded-lg shadow-sm';
        messageElement.innerHTML = `
          <p class="text-gray-700">${message}</p>
          <p class="text-gray-400 text-sm mt-2">${new Date().toLocaleString()}</p>
        `;
        
        ELEMENTS.messagesContainer.appendChild(messageElement);
        ELEMENTS.messagesContainer.scrollTop = ELEMENTS.messagesContainer.scrollHeight;
        
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        STATE.messages.push({ text: message, date: new Date().toISOString() });
        localStorage.setItem('loveMessages', JSON.stringify(STATE.messages));
      },
      
      // åŠ è½½æœ¬åœ°å­˜å‚¨çš„ç•™è¨€
      loadMessages: () => {
        const messages = localStorage.getItem('loveMessages');
        if (messages) {
          STATE.messages = JSON.parse(messages);
          STATE.messages.forEach(msg => {
            const messageElement = document.createElement('div');
            messageElement.className = 'bg-love-light p-4 rounded-lg shadow-sm';
            messageElement.innerHTML = `
              <p class="text-gray-700">${msg.text}</p>
              <p class="text-gray-400 text-sm mt-2">${new Date(msg.date).toLocaleString()}</p>
            `;
            ELEMENTS.messagesContainer.appendChild(messageElement);
          });
        }
      },
      
      // åŠ è½½ç‚¹èµæ•°
      loadLikeCount: () => {
        const likeCount = localStorage.getItem('loveLikeCount');
        if (likeCount) {
          STATE.likeCount = parseInt(likeCount);
          ELEMENTS.likeCount.textContent = `${STATE.likeCount} ä¸ªçˆ±å¿ƒ`;
          
          if (STATE.likeCount > 0) {
            ELEMENTS.likeButton.innerHTML = '<i class="fa fa-heart"></i>';
            ELEMENTS.likeButton.classList.remove('text-gray-300');
            ELEMENTS.likeButton.classList.add('text-love-primary');
          }
        }
      },
      
      // åˆ†äº«åŠŸèƒ½
      sharePage: () => {
        if (navigator.share) {
          navigator.share({
            title: 'æˆ‘ä»¬çš„ä¸‰å‘¨å¹´ & ä¸ƒå¤•çºªå¿µ',
            text: 'æ¥çœ‹çœ‹æˆ‘ä»¬çš„çˆ±æƒ…å›å¿†å§ï¼',
            url: window.location.href
          }).catch(err => console.error('åˆ†äº«å¤±è´¥:', err));
        } else {
          // å¤åˆ¶é“¾æ¥åˆ°å‰ªè´´æ¿
          navigator.clipboard.writeText(window.location.href)
            .then(() => alert('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼'))
            .catch(err => console.error('å¤åˆ¶å¤±è´¥:', err));
        }
      },
      
      // åˆ›å»ºä¿¡å°ç‚¹å‡»çˆ±å¿ƒåŠ¨ç”»
      createEnvelopeHeartAnimation: () => {
        const container = document.getElementById('password-page');
        for (let i = 0; i < 30; i++) {
          const heart = document.createElement('div');
          heart.className = 'absolute text-4xl';
          heart.innerHTML = 'â¤ï¸';
          heart.style.cssText = `
            left: 50%;
            top: 50%;
            opacity: 0;
            transform: scale(0);
            animation: enter-heart ${1 + Math.random() * 1.5}s ease-out;
          `;
          container.appendChild(heart);
        }
      }
    };

    // äº‹ä»¶ç›‘å¬å™¨
    const EVENTS = {
      // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬
      init: () => {
        // åˆå§‹åŒ–æ—¶ç›´æ¥æ˜¾ç¤ºæ—¥æœŸè¡¨å•
        setTimeout(() => {
          document.getElementById('date-form-container').classList.remove('hidden');
          document.getElementById('date-form-container').classList.add('scale-100', 'opacity-100');
        }, 500);
        
        // ä¿¡å°ç‚¹å‡»æ‹†å°äº‹ä»¶
        if (ELEMENTS.envelopeBack) {
          ELEMENTS.envelopeBack.addEventListener('click', () => {
            // åˆ›å»ºçˆ±å¿ƒå¼¹å‡ºåŠ¨ç”»
            createHeartPopAnimation();
            // å»¶è¿Ÿæ‰“å¼€ä¿¡å°ï¼Œè®©åŠ¨ç”»æ•ˆæœå…ˆæ˜¾ç¤º
            setTimeout(() => {
              UTILS.openEnvelope();
            }, 500);
          });
        }
        
        // åˆ›å»ºçˆ±å¿ƒå¼¹å‡ºåŠ¨ç”»å‡½æ•°
        function createHeartPopAnimation() {
          const envelopeContainer = document.getElementById('love-letter');
          if (!envelopeContainer) return;
          
          // åˆ›å»º10ä¸ªçˆ±å¿ƒ
          for (let i = 0; i < 10; i++) {
            const heart = document.createElement('div');
            heart.className = 'absolute z-30 text-2xl';
            heart.innerHTML = 'â¤ï¸';
            
            // è®¾ç½®éšæœºä½ç½®å’ŒåŠ¨ç”»å»¶è¿Ÿ
            const randomX = Math.random() * 200 - 100; // -100 åˆ° 100 çš„èŒƒå›´
            const randomY = Math.random() * 100 - 50; // -50 åˆ° 50 çš„èŒƒå›´
            const delay = Math.random() * 0.5;
            
            heart.style.cssText = `
              left: 50%;
              top: 50%;
              transform: translate(${randomX}px, ${randomY}px) scale(0);
              animation: heart-pop 1s ease-out ${delay}s forwards;
            `;
            
            envelopeContainer.appendChild(heart);
            
            // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
            setTimeout(() => {
              heart.remove();
            }, 1500);
          }
        }
        
        // å¯†ç è¡¨å•æäº¤
      ELEMENTS.passwordForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const date = ELEMENTS.anniversaryDate.value;
        
        // ç¡®ä¿ç”¨æˆ·å¿…é¡»è¾“å…¥æ—¥æœŸ
        if (!date) {
          console.log('Date is empty, showing cute error');
          UTILS.showCuteError();
          document.getElementById('anniversary-date').classList.add('border-red-500', 'animate-shake');
          setTimeout(() => {
            document.getElementById('anniversary-date').classList.remove('border-red-500', 'animate-shake');
          }, 1000);
          return;
        }
        
        const isValid = UTILS.validateAnniversary(date);
        console.log('Date validation result:', isValid, 'for date:', date);
        
        if (isValid) {
          STATE.anniversaryDate = date;
          localStorage.setItem('anniversaryDate', date);
          
          // æ·»åŠ è¿›å…¥åŠ¨ç”»
          document.getElementById('date-form-container').classList.add('scale-0', 'opacity-0');
          
          // åˆ›å»ºè¿›å…¥åŠ¨ç”»æ•ˆæœ
          UTILS.createEnvelopeHeartAnimation();
          
          setTimeout(() => {
            ELEMENTS.passwordPage.classList.add('hidden');
            ELEMENTS.mainContent.classList.remove('hidden');
            // åˆå§‹åŒ–å€’è®¡æ—¶
            UTILS.calculateTogetherTime();
            setInterval(UTILS.calculateTogetherTime, 1000);
            // å¯åŠ¨ç›¸å†Œæ»šåŠ¨
            UTILS.startGalleryScroll();
          }, 1000);
        } else {
          // æ—¥æœŸéªŒè¯å¤±è´¥ï¼Œæ˜¾ç¤ºå¯çˆ±é£æ ¼çš„é”™è¯¯æç¤ºæ¡†
          console.log('Date validation failed, showing cute error');
          UTILS.showCuteError();
          
          // æ·»åŠ æŠ–åŠ¨åŠ¨ç”»
          document.getElementById('anniversary-date').classList.add('border-red-500', 'animate-shake');
          
          setTimeout(() => {
            document.getElementById('anniversary-date').classList.remove('border-red-500', 'animate-shake');
          }, 1000);
        }
      });
        
        // ä¿¡å°å›¾æ ‡ç‚¹å‡»äº‹ä»¶ - æ–°å¢
        const envelopeIcon = document.getElementById('envelope-icon');
        if (envelopeIcon) {
          envelopeIcon.addEventListener('click', () => {
            // åˆ›å»ºçˆ±å¿ƒå¼¹å‡ºåŠ¨ç”»
            UTILS.createEnvelopeHeartAnimation();
            
            // éšè—æ—¥æœŸè¡¨å•
            const dateFormContainer = document.getElementById('date-form-container');
            if (dateFormContainer) {
              dateFormContainer.classList.add('scale-0', 'opacity-0');
            }
            
            setTimeout(() => {
              // è®¾ç½®é»˜è®¤æ—¥æœŸ
              STATE.anniversaryDate = CONFIG.DEFAULT_ANNIVERSARY;
              localStorage.setItem('anniversaryDate', STATE.anniversaryDate);
              
              // è·³è½¬åˆ°ä¸»å†…å®¹
              ELEMENTS.passwordPage.classList.add('hidden');
              ELEMENTS.mainContent.classList.remove('hidden');
              
              // åˆå§‹åŒ–å€’è®¡æ—¶
              UTILS.calculateTogetherTime();
              setInterval(UTILS.calculateTogetherTime, 1000);
              
              // å¯åŠ¨ç›¸å†Œæ»šåŠ¨
              UTILS.startGalleryScroll();
            }, 1000);
          });
        }
        
        // ä½¿ç”¨æœ¬åœ°éŸ³é¢‘æ–‡ä»¶ä½œä¸ºèƒŒæ™¯éŸ³ä¹
        let bgAudio = null;
        
        // åˆå§‹åŒ–èƒŒæ™¯éŸ³ä¹
        function initBackgroundMusic() {
            if (!bgAudio) {
                try {
                    bgAudio = new Audio('/love_song.mp3');
                    bgAudio.loop = true; // è®¾ç½®å¾ªç¯æ’­æ”¾
                    bgAudio.volume = 0.3; // è®¾ç½®éŸ³é‡
                } catch (e) {
                    console.error('åˆå§‹åŒ–èƒŒæ™¯éŸ³ä¹å¤±è´¥:', e);
                    throw e;
                }
            }
        }
        
        // æ’­æ”¾éŸ³ä¹
        function playMusic() {
            try {
                initBackgroundMusic();
                
                // æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦å…è®¸è‡ªåŠ¨æ’­æ”¾
                bgAudio.play().then(() => {
                    STATE.isMusicPlaying = true;
                    // æ›´æ–°UIçŠ¶æ€
                    ELEMENTS.playMusic.innerHTML = '<i class="fa fa-pause"></i><span>æš‚åœéŸ³ä¹</span>';
                }).catch(error => {
                    console.error('æ’­æ”¾éŸ³ä¹å¤±è´¥ï¼ˆå¯èƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨æ’­æ”¾é™åˆ¶ï¼‰:', error);
                    alert('æŠ±æ­‰ï¼Œæ— æ³•è‡ªåŠ¨æ’­æ”¾èƒŒæ™¯éŸ³ä¹ã€‚\nè¯·ç‚¹å‡»æ’­æ”¾æŒ‰é’®æ‰‹åŠ¨æ’­æ”¾ã€‚');
                    STATE.isMusicPlaying = false;
                });
            } catch (e) {
                console.error('æ’­æ”¾éŸ³ä¹å‡ºé”™:', e);
                alert('æŠ±æ­‰ï¼Œæ— æ³•æ’­æ”¾èƒŒæ™¯éŸ³ä¹ã€‚\n\né”™è¯¯ä¿¡æ¯ï¼š' + e.message);
                ELEMENTS.playMusic.innerHTML = '<i class="fa fa-music"></i><span>æ’­æ”¾éŸ³ä¹</span>';
                STATE.isMusicPlaying = false;
            }
        }
        
        // æš‚åœéŸ³ä¹
        function pauseMusic() {
            if (bgAudio) {
                bgAudio.pause();
                STATE.isMusicPlaying = false;
                ELEMENTS.playMusic.innerHTML = '<i class="fa fa-music"></i><span>æ’­æ”¾éŸ³ä¹</span>';
            }
        }
        
        // åœæ­¢éŸ³ä¹
        function stopMusic() {
            if (bgAudio) {
                bgAudio.pause();
                bgAudio.currentTime = 0;
                STATE.isMusicPlaying = false;
            }
        }
        
        // æ’­æ”¾/æš‚åœéŸ³ä¹æŒ‰é’®äº‹ä»¶
        ELEMENTS.playMusic.addEventListener('click', async () => {
            if (STATE.isMusicPlaying) {
                pauseMusic();
            } else {
                playMusic();
            }
        });
        
        // ç›¸å†Œæ ‡ç­¾åˆ‡æ¢
        ELEMENTS.galleryTabs.forEach(tab => {
          tab.addEventListener('click', () => {
            UTILS.switchGalleryTab(tab.dataset.tab);
            // é‡æ–°å¯åŠ¨æ»šåŠ¨åŠ¨ç”»
            setTimeout(() => {
              UTILS.stopGalleryScroll();
              UTILS.startGalleryScroll();
            }, 100);
          });
        });
        
        // ç›¸å†Œæ‚¬åœæš‚åœæ•ˆæœ - ç®€åŒ–å®ç°
        document.querySelectorAll('.gallery-scroll-container').forEach(container => {
          container.addEventListener('mouseenter', () => {
            const track = container.querySelector('.gallery-scroll-track');
            if (track && track.scrollInterval) {
              clearInterval(track.scrollInterval);
              track.scrollInterval = null;
            }
          });
          
          container.addEventListener('mouseleave', () => {
            const track = container.querySelector('.gallery-scroll-track');
            if (track && !track.scrollInterval) {
              // è·å–åŸå§‹é€Ÿåº¦
              const speed = track.dataset.speed || 20;
              let position = 0;
              
              // é‡æ–°è®¾ç½®æ»šåŠ¨
              track.scrollInterval = setInterval(() => {
                position--;
                track.style.transform = `translateX(${position}px)`;
                
                // æ£€æµ‹æ˜¯å¦éœ€è¦é‡ç½®ä½ç½®ä»¥å®ç°æ— ç¼æ»šåŠ¨
                const firstHalfWidth = track.scrollWidth / 2;
                if (Math.abs(position) >= firstHalfWidth) {
                  position = 0;
                  track.style.transform = `translateX(${position}px)`;
                }
              }, speed);
            }
          });
        });
        
        // ç…§ç‰‡ç‚¹å‡»æ”¾å¤§æ•ˆæœ
        document.querySelectorAll('.photo-item').forEach(item => {
          item.addEventListener('click', () => {
            const img = item.querySelector('img');
            const viewer = document.getElementById('image-viewer');
            const viewedImg = document.getElementById('viewed-image');
            
            viewedImg.src = img.src;
            viewedImg.alt = img.alt;
            viewer.classList.remove('hidden');
            viewer.classList.add('flex');
            document.body.style.overflow = 'hidden';
          });
        });
        
        // å…³é—­å›¾ç‰‡æŸ¥çœ‹å™¨
        document.getElementById('close-viewer').addEventListener('click', () => {
          const viewer = document.getElementById('image-viewer');
          viewer.classList.add('hidden');
          viewer.classList.remove('flex');
          document.body.style.overflow = '';
        });
        
        // ç‚¹å‡»å›¾ç‰‡æŸ¥çœ‹å™¨èƒŒæ™¯å…³é—­
        document.getElementById('image-viewer').addEventListener('click', (e) => {
          if (e.target === document.getElementById('image-viewer')) {
            const viewer = document.getElementById('image-viewer');
            viewer.classList.add('hidden');
            viewer.classList.remove('flex');
            document.body.style.overflow = '';
          }
        });
        
        // çˆ±å¿ƒç‚¹èµ
        ELEMENTS.likeButton?.addEventListener('click', () => {
          if (ELEMENTS.likeButton.classList.contains('text-gray-300')) {
            STATE.likeCount++;
            ELEMENTS.likeButton.innerHTML = '<i class="fa fa-heart"></i>';
            ELEMENTS.likeButton.classList.remove('text-gray-300');
            ELEMENTS.likeButton.classList.add('text-love-primary');
            ELEMENTS.likeCount.textContent = `${STATE.likeCount} ä¸ªçˆ±å¿ƒ`;
            localStorage.setItem('loveLikeCount', STATE.likeCount);
          }
        });
        
        // ç•™è¨€è¡¨å•æäº¤
        ELEMENTS.messageForm?.addEventListener('submit', (e) => {
          e.preventDefault();
          UTILS.addMessage(ELEMENTS.messageInput.value);
          ELEMENTS.messageInput.value = '';
        });
        
        // åˆ†äº«æŒ‰é’®
        ELEMENTS.shareButton.addEventListener('click', UTILS.sharePage);
        
        // å¹³æ»‘æ»šåŠ¨
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
              window.scrollTo({ 
                top: target.offsetTop, 
                behavior: 'smooth'
              });
            }
          });
        });

        // å…¨å±€ç‚¹å‡»ä¸€æ¬¡æ€§è§¦å‘éŸ³ä¹æ’­æ”¾
        document.addEventListener('click', () => {
          if (!STATE.isMusicPlaying) {
            playMusic();
          }
        }, { once: true });

        // åœŸå‘³æƒ…è¯æ•°ç»„
        const LOVE_PHRASES = [
          'ä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€ç¾çš„é£æ™¯',
          'æƒ³ä½ çš„æ—¶å€™ï¼Œå˜´è§’ä¸è‡ªè§‰åœ°ä¸Šæ‰¬',
          'åœ¨æˆ‘å¿ƒé‡Œï¼Œä½ æ¯”ä»»ä½•é£æ™¯éƒ½ç¾ä¸½',
          'ä½™ç”Ÿè¯·å¤šæŒ‡æ•™',
          'ä½ æ˜¯æˆ‘æ¯å¤©é†’æ¥çš„åŠ¨åŠ›',
          'æˆ‘çˆ±ä½ ï¼Œä»è¿‡å»åˆ°æœªæ¥',
          'é‡åˆ°ä½ ï¼Œæ˜¯æˆ‘æœ€å¤§çš„å¹¸è¿',
          'æˆ‘æƒ³å’Œä½ ä¸€èµ·æ…¢æ…¢å˜è€',
          'ä½ çš„ç¬‘å®¹æ˜¯æˆ‘æœ€å¤§çš„å¹¸ç¦',
          'ä¸–ç•Œå¾ˆå¤§ï¼Œä½†æˆ‘çœ¼é‡Œåªæœ‰ä½ '
        ];
        
        // éšæœºé¢œè‰²æ•°ç»„ - æ’é™¤ç™½è‰²å’Œç»¿è‰²
        const RANDOM_COLORS = [
          '#FF6B6B', '#FF8E53', '#4ECDC4', '#45B7D1', '#96CEB4',
          '#FECA57', '#FF9FF3', '#54A0FF', '#5F27CD', '#FF6348',
          '#C0392B', '#8E44AD', '#3498DB', '#E74C3C', '#9B59B6'
        ];
        
        // ç‚¹å‡»çˆ±çš„ä¿¡ä»¶å›¾æ ‡æˆ–å¿«æ·æ–¹å¼æ’­æ”¾éŸ³ä¹
        const loveLetterShortcut = document.querySelector('.love-shortcut[data-target="love-letter"]');
        const loveLetterSection = document.getElementById('love-letter');
        
        if (loveLetterShortcut) {
          loveLetterShortcut.addEventListener('click', () => {
            if (!STATE.isMusicPlaying) {
              playMusic();
            }
          });
        }
        
        if (loveLetterSection) {
          loveLetterSection.addEventListener('click', () => {
            if (!STATE.isMusicPlaying) {
              playMusic();
            }
          });
        }
        
        // ç‚¹å‡»ç©ºç™½åŒºåŸŸç”ŸæˆåœŸå‘³æƒ…è¯
        document.addEventListener('click', (e) => {
          // æ£€æŸ¥æ˜¯å¦ç‚¹å‡»çš„æ˜¯ç©ºç™½åŒºåŸŸï¼ˆä¸æ˜¯ä»»ä½•æœ‰ç‰¹å®šåŠŸèƒ½çš„å…ƒç´ ï¼‰
          const isClickableElement = e.target.closest('button, a, input, form, .photo-item, .gallery-tab, #love-letter, .love-shortcut, #image-viewer, #date-form-container, #play-music');
          
          if (!isClickableElement && e.target !== document.body) {
            // ç”ŸæˆéšæœºåœŸå‘³æƒ…è¯
            const randomPhrase = LOVE_PHRASES[Math.floor(Math.random() * LOVE_PHRASES.length)];
            
            // åˆ›å»ºæƒ…è¯å…ƒç´ 
            const phraseElement = document.createElement('div');
            
            // éšæœºé€‰æ‹©é¢œè‰²ï¼ˆæ’é™¤ç™½è‰²å’Œç»¿è‰²ï¼‰
            const randomColor = RANDOM_COLORS[Math.floor(Math.random() * RANDOM_COLORS.length)];
            
            // è®¾ç½®å…ƒç´ æ ·å¼
            phraseElement.className = 'love-phrase absolute z-40 transform transition-all duration-300';
            phraseElement.style.color = randomColor;
            phraseElement.style.fontFamily = '"Comic Sans MS", "Marker Felt", cursive';
            phraseElement.style.fontSize = '16px';
            phraseElement.style.fontWeight = 'bold';
            phraseElement.style.whiteSpace = 'nowrap';
            phraseElement.textContent = randomPhrase;
            
            // è®¾ç½®ä½ç½® - ä¸é¼ æ ‡ç‚¹å‡»åæ ‡ä¿æŒä¸€è‡´
            phraseElement.style.left = `${e.clientX}px`;
            phraseElement.style.top = `${e.clientY}px`;
            
            // æ·»åŠ åˆ°æ–‡æ¡£
            document.body.appendChild(phraseElement);
            
            // æ·»åŠ åŠ¨ç”»
            setTimeout(() => {
              phraseElement.style.opacity = '0';
              phraseElement.style.transform = 'translateY(-20px) scale(0.8)';
              
              // ç§»é™¤å…ƒç´ 
              setTimeout(() => {
                if (document.body.contains(phraseElement)) {
                  document.body.removeChild(phraseElement);
                }
              }, 300);
            }, 3000);
          }
        });
      }
    };

    // åŠ¨æ€åˆ›å»ºèƒŒæ™¯éŸ³ä¹å…ƒç´ 
    function createBackgroundMusic() {
      try {
        // åˆ›å»ºéŸ³é¢‘å…ƒç´ 
        // æ³¨æ„ï¼šèƒŒæ™¯éŸ³ä¹ç°åœ¨é€šè¿‡Web Audio APIå®ç°ï¼Œä¸å†ä½¿ç”¨audioå…ƒç´ 
        // æ­¤å‡½æ•°ä¿ç•™ä»¥ä¿æŒå‘åå…¼å®¹æ€§
        console.log('èƒŒæ™¯éŸ³ä¹é€šè¿‡Web Audio APIå®ç°ï¼Œä¸å†åˆ›å»ºaudioå…ƒç´ ');
        return null;
      } catch (error) {
        console.error('åˆ›å»ºèƒŒæ™¯éŸ³ä¹å…ƒç´ å¤±è´¥:', error);
        return null;
      }
    }
    
    // åˆå§‹åŒ–å‡½æ•°
    const init = () => {
      // åŠ¨æ€åˆ›å»ºèƒŒæ™¯éŸ³ä¹å…ƒç´ 
      ELEMENTS.bgMusic = createBackgroundMusic();
      
      // è®¾ç½®é»˜è®¤æ—¥æœŸ
      ELEMENTS.anniversaryDate.value = CONFIG.DEFAULT_ANNIVERSARY;
      
      // æ£€æŸ¥æ˜¯å¦å·²æœ‰ä¿å­˜çš„çºªå¿µæ—¥
      const savedDate = localStorage.getItem('anniversaryDate');
      if (savedDate) {
        ELEMENTS.anniversaryDate.value = savedDate;
      }
      
      // åˆå§‹åŒ–çˆ±å¿ƒé›¨
      UTILS.initHeartRain();
      
      // åˆå§‹åŒ–ç²’å­æ•ˆæœ
      UTILS.initParticles();
      
      // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬
      EVENTS.init();
      
      // ä¸ºæ‰€æœ‰ç›¸å†Œæ ‡ç­¾è®¾ç½®ç»Ÿä¸€çš„å­—ä½“æ ·å¼
      ELEMENTS.galleryTabs.forEach(tab => {
        //tab.style.fontFamily = '"Dancing Script", cursive';
      });
      
      // åŠ è½½ä¿å­˜çš„æ•°æ®
      UTILS.loadMessages();
      UTILS.loadLikeCount();
      
      // å°è¯•è‡ªåŠ¨æ’­æ”¾èƒŒæ™¯éŸ³ä¹
      setTimeout(() => {
        if (!STATE.isMusicPlaying) {
          playMusic();
        }
      }, 1000);
      
      // æ·»åŠ è¿›å…¥åŠ¨ç”»å’Œå…¨å±€å…‰æ ‡æ ·å¼
        const style = document.createElement('style');
        style.textContent = `
          /* ç¡®ä¿æ•´ä¸ªé¡µé¢ä¸ä¼šå‡ºç°æ–‡æœ¬å…‰æ ‡ */
          * {
            cursor: default !important;
          }
          
          /* ä¸ºå¯äº¤äº’å…ƒç´ è®¾ç½®é€‚å½“çš„å…‰æ ‡ */
          button, a, input, select, textarea {
            cursor: pointer !important;
          }
          
          /* æ–‡æœ¬è¾“å…¥æ¡†ä¿æŒæ–‡æœ¬å…‰æ ‡ */
          input[type="text"], input[type="date"], textarea {
            cursor: text !important;
          }
        @keyframes enter-heart {
          0% {
            transform: scale(0);
            opacity: 0;
          }
          50% {
            transform: scale(1.5);
            opacity: 1;
          }
          100% {
            transform: scale(0);
            opacity: 0;
            transform: translateY(-100vh);
          }
        }
        
        /* é²œèŠ±è£…é¥°åŠ¨ç”» */
        @keyframes float {
          0%, 100% { transform: translateY(0) rotate(0deg); }
          50% { transform: translateY(-15px) rotate(5deg); }
        }
        
        @keyframes float-delay {
          0%, 100% { transform: translateY(0) rotate(0deg); }
          50% { transform: translateY(-12px) rotate(-5deg); }
        }
        
        @keyframes float-long {
          0%, 100% { transform: translateY(0) rotate(0deg); }
          50% { transform: translateY(-18px) rotate(7deg); }
        }
        
        @keyframes float-short {
          0%, 100% { transform: translateY(0) rotate(0deg); }
          50% { transform: translateY(-10px) rotate(-3deg); }
        }
        
        @keyframes float-delay-short {
          0%, 100% { transform: translateY(0) rotate(0deg); }
          50% { transform: translateY(-8px) rotate(2deg); }
        }
        
        .animate-float {
          animation: float 3s ease-in-out infinite;
        }
        
        .animate-float-delay {
          animation: float-delay 3s ease-in-out 0.5s infinite;
        }
        
        .animate-float-long {
          animation: float-long 4s ease-in-out infinite;
        }
        
        .animate-float-short {
          animation: float-short 2.5s ease-in-out 0.3s infinite;
        }
        
        .animate-float-delay-short {
          animation: float-delay-short 2s ease-in-out 0.7s infinite;
        }
        
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
          20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        @keyframes heartbeat {
          0% {
            transform: scale(1);
          }
          14% {
            transform: scale(1.3);
          }
          28% {
            transform: scale(1);
          }
          42% {
            transform: scale(1.3);
          }
          70% {
            transform: scale(1);
          }
        }
        
        .animate-shake {
          animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        
        .animate-heartbeat {
          animation: heartbeat 1s ease-in-out infinite;
        }
      `;
      document.head.appendChild(style);
      
      // æ˜¾ç¤ºæ—¥æœŸè¡¨å•
      setTimeout(() => {
        document.getElementById('date-form-container').classList.remove('hidden');
        document.getElementById('date-form-container').classList.add('scale-100', 'opacity-100');
      }, 500);
    };

    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>